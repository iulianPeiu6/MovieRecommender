<h2 class="content-block">Movies</h2>

<dx-data-grid 
  #targetDataGrid
  class="dx-card wide-card"
  [dataSource]="dataSource"
  [showBorders]="false"
  [focusedRowEnabled]="true"
  [focusedRowIndex]="0"
  [columnAutoWidth]="true"
  [columnHidingEnabled]="true">

  <dxo-paging 
    [pageSize]="10"
  ></dxo-paging>
  <dxo-pager [showPageSizeSelector]="true" [showInfo]="true"></dxo-pager>
  <dxo-filter-row [visible]="true"></dxo-filter-row>

  <!-- <dxi-column
    dataField="id"
    [width]="90"
    caption="ID"
    [hidingPriority]="1">
  </dxi-column> -->
  <dxi-column 
    dataField="provider"
    caption="Provider">
  </dxi-column>
  <dxi-column
    dataField="httpMethod"
    caption="Http Method">
  </dxi-column>
  <!-- <dxi-column
    dataField="endpoint"
    caption="Endpoint">
  </dxi-column> -->
  <!-- <dxi-column
    dataField="requestContent"
    caption="Request Content">
  </dxi-column> -->
  <dxi-column
    dataField="statusCode"
    caption="Status">
  </dxi-column>
  <!-- <dxi-column
    dataField="responseContent"
    caption="Response Content">
  </dxi-column> -->
  <dxi-column
    dataField="latency"
    caption="Latency">
  </dxi-column>
  <dxo-master-detail [enabled]="true" template="detail"></dxo-master-detail>
  <div *dxTemplate="let request of 'detail'">
    <div>Endpoint:</div>
    <textarea readonly cols="225" rows="1">{{request.data.endpoint}}</textarea>
    <div>Request Content: </div>
    <textarea readonly cols="225" rows="3">{{request.data.requestContent | json}}</textarea>
    <div>Response Content: </div>
    <textarea readonly cols="225" rows="10">{{request.data.responseContent | json}}</textarea>
    <!-- <dx-text-area
      [height]="90"
      [readOnly]="true"
      [(value)]="'{{request.data.responseContent}}'">
    </dx-text-area> -->
  </div>
</dx-data-grid>

<dx-load-panel
  #loadPanel
  shadingColor="rgba(0,0,0,0.4)"
  [(visible)]="loadingVisible"
  [showIndicator]="true"
  [showPane]="true"
  [shading]="true"
  [closeOnOutsideClick]="false">
</dx-load-panel>
